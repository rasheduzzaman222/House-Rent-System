{% extends 'base.html' %}
{% block content %}
<h2>{% if property %}Edit Property{% else %}Add Property{% endif %}</h2>
<form method="post" enctype="multipart/form-data" class="col-md-8">
    <div class="mb-3">
        <label class="form-label">Title</label>
        <input type="text" name="title" class="form-control" value="{{ property.title if property else '' }}" required>
    </div>
    <div class="mb-3">
        <label class="form-label">Description</label>
        <textarea name="description" class="form-control" rows="4" required>{{ property.description if property else '' }}</textarea>
    </div>
    <div class="mb-3">
        <label class="form-label">Location</label>
        <input type="text" name="location" class="form-control" value="{{ property.location if property else '' }}" required>
    </div>
    <div class="mb-3">
        <label class="form-label">Rent Amount</label>
        <input type="number" step="0.01" name="rent_amount" class="form-control" value="{{ property.rent_amount if property else '' }}" required>
    </div>
    <div class="mb-3">
        <label class="form-label">Type</label>
        <select name="property_type" class="form-select">
            <option value="apartment" {% if property and property.property_type.value == 'apartment' %}selected{% endif %}>Apartment</option>
            <option value="house" {% if property and property.property_type.value == 'house' %}selected{% endif %}>House</option>
        </select>
    </div>
    {% if property %}
    <div class="mb-3">
        <label class="form-label">Availability Status</label>
        <select name="availability_status" class="form-select">
            <option value="available" {% if property.availability_status.value == 'available' %}selected{% endif %}>Available</option>
            <option value="rented" {% if property.availability_status.value == 'rented' %}selected{% endif %}>Rented</option>
            <option value="inactive" {% if property.availability_status.value == 'inactive' %}selected{% endif %}>Inactive</option>
        </select>
    </div>
    {% endif %}
    <div class="mb-3">
        <label class="form-label">Main Image</label>
        <input type="file" name="image" class="form-control">
        {% if property and property.main_image_path %}
            <img src="{{ property.main_image_path }}" alt="Current image" class="img-thumbnail mt-2" style="max-height:150px;">
        {% endif %}
    </div>
    <button class="btn btn-primary" type="submit">Save</button>
</form>
{% endblock %}
